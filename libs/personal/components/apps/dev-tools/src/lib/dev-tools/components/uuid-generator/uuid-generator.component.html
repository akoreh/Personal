<div class="flex flex-col gap-4 p-4">
  <h2 class="font-press-start text-lg text-gray-800">UUID Generator</h2>

  <div class="flex flex-wrap items-center justify-between gap-4">
    <div class="flex items-center gap-2 text-sm font-semibold text-gray-700">
      <label for="count">Generate:</label>
      <ps-input
        id="count"
        min="1"
        max="100"
        placeholder="Count"
        type="integer"
        [value]="count()"
        (input)="onCountChange($event)"
      />
      <span>UUID(s)</span>
    </div>

    <div class="flex gap-2">
      <ps-button variant="success" (clicked)="generate()">
        ğŸ² Generate
      </ps-button>
      @if (generatedUuids().length > 0) {
        <ps-button variant="primary" (clicked)="copyAll()">
          ğŸ“‹ Copy All
        </ps-button>
        <ps-button variant="secondary" (clicked)="clear()">
          ğŸ—‘ï¸ Clear
        </ps-button>
      }
    </div>
  </div>

  @if (generatedUuids().length > 0) {
    <div
      class="flex max-h-64 flex-col gap-2 overflow-y-auto rounded-lg border-2 border-gray-300 bg-white p-2"
    >
      @for (uuid of generatedUuids(); track uuid; let i = $index) {
        <div
          class="bg-window-bg hover:bg-secondary-lightYellow flex items-center justify-between gap-2 rounded-md px-3 py-2"
          style="box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.05)"
        >
          <code class="font-mono text-xs text-gray-800">{{ uuid }}</code>
          <div class="flex gap-1">
            <button
              class="cursor-pointer rounded border-none bg-transparent p-1 text-sm transition-all hover:scale-110 hover:bg-gray-200 active:scale-95"
              title="Copy"
              type="button"
              (click)="copyToClipboard(uuid)"
            >
              ğŸ“‹
            </button>
            <button
              class="cursor-pointer rounded border-none bg-transparent p-1 text-sm transition-all hover:scale-110 hover:bg-gray-200 active:scale-95"
              title="Remove"
              type="button"
              (click)="removeUuid(i)"
            >
              âœ•
            </button>
          </div>
        </div>
      }
    </div>
  } @else {
    <div
      class="flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-white p-8 text-center text-sm text-gray-500"
    >
      <span>No UUIDs generated yet. Click "Generate" to create some!</span>
    </div>
  }
</div>
